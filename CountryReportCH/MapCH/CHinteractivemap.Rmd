---
title: "Switzerland_Map"
author: "Valentin"
date: "03/02/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r}
library(sf)
library(ggplot2)
library(tmap)
library(tmaptools)
library(leaflet)
library(dplyr)
library(tidyr)
```

```{r}
library(readxl)
library(readxl)
CHdatamap <- read_excel("~/L3pgeprojects/CountryReportCH/MapCH/CHdatamap.xlsx", 
    sheet = "2018", col_types = c("text", 
        "numeric", "numeric", "numeric", 
        "numeric", "numeric", "numeric", 
        "numeric", "numeric", "numeric", 
        "numeric", "numeric", "numeric", 
        "numeric", "numeric", "numeric", 
        "numeric", "numeric", "numeric"))
View(CHdatamap)
```

```{r}
CHdatamap1 <- tidyr::drop_na(CHdatamap)
CHdatamap1
```

```{r}
CHdatamap1 <- rename(CHdatamap1, NAME_1=...1)
CHdatamap1
```

### Supprimer les lignes depuis Excel

```{r}
myCHmap <- st_read("~/L3pgeprojects/CountryReportCH/MapCH/CHE_adm/CHE_adm1.shp", stringsAsFactors = FALSE)

datamap <- inner_join(myCHmap, CHdatamap1)

tm_shape(datamap) +
tm_polygons("Total", id = "NAME_1", palette = "Blues")+ 
#breaks = c(, 50000, 100000, 200000, 300000, 400000, 500000, 700000, 1000000, 1500000), labels = 1:7, right = F, ordered_result = T)

tmap_mode("view")
DensityMap <- tmap_last()


tmap_save(DensityMap, "PopulationMapCH.html")
```

